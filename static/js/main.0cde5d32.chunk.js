(this.webpackJsonpisitraining=this.webpackJsonpisitraining||[]).push([[0],{123:function(e){e.exports=JSON.parse("{}")},124:function(e){e.exports=JSON.parse("{}")},126:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),i=a.n(c),o=(a(86),a(87),a(165)),u=a(167),s=a(168),l=a(169),p=a(32),m=a(66),f=a.n(m),v=a(162),d=a(178),b=Object(v.a)((function(e){return Object(d.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textAlign:"left"},navlink:{marginLeft:"1rem"}})}));function h(){var e=b();return r.a.createElement("div",{className:e.root},r.a.createElement(o.a,{position:"static"},r.a.createElement(u.a,null,r.a.createElement(s.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(f.a,null)),r.a.createElement(l.a,{variant:"h6",className:e.title},"Is It Raining"),r.a.createElement(p.b,{to:"/",className:e.navlink},"Home"),r.a.createElement(p.b,{to:"/favorites",className:e.navlink},"Favorites"))))}var y=a(27),g=a(13),O=a.n(g),x=a(23),j=a(12),w=a(72),E=a(175),k=Object(v.a)((function(e){return Object(d.a)({wrapper:{display:"flex",justifyContent:"flex-start",alignItems:"center"},currentWeatherImage:{width:"30px",height:"30px",marginLeft:""},info:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"}})}));function I(e){var t=e<10?"0".concat(e):"".concat(e);return"https://developer.accuweather.com/sites/default/files/".concat(t,"-s.png")}function N(e){var t=k(),a=e.city,n=e.weatherIcon,c=e.weatherText,i=e.value,o=e.unit;return a&&n&&c&&i&&o?r.a.createElement("div",{className:t.wrapper},r.a.createElement("img",{src:I(n),alt:c}),r.a.createElement("div",{className:t.info},r.a.createElement(l.a,{component:"span"},a),r.a.createElement(l.a,{component:"span"},"".concat(i).concat(o)))):null}var P=a(176),T=a(177),D=a(170);var S=Object(v.a)((function(e){return Object(d.a)({textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}})})),W="Enter City",C=a(43),L=a(46),F=a.n(L),K=a(68),U="mFxnPNWknLwnopsn7p5jtv3R7rHKmn7i",V=(a(123),a(48));function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var J=function(e){var t,a="object"===typeof(t=e)&&null!=t,n=a?e:{};return a?"?".concat(K.stringify(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},n))):""},B=function(){var e=Object(x.a)(O.a.mark((function e(t){var a,n,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=J({apikey:U,q:t}),e.prev=1,e.next=4,F.a.get("http://dataservice.accuweather.com/locations/v1/cities/autocomplete".concat(a),{});case 4:if(!(n=e.sent)||!n.data){e.next=11;break}if(!n.data){e.next=8;break}return e.abrupt("return",n.data);case 8:if(!n.data.error){e.next=11;break}return r=Object(j.a)(n.error,1),c=r[0],e.abrupt("return",{error:c});case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(x.a)(O.a.mark((function e(t){var a,n,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=J({apikey:U}),e.prev=1,e.next=4,F.a.get("http://dataservice.accuweather.com/currentconditions/v1/".concat(t).concat(a),{});case 4:if(!(n=e.sent)||!n.data){e.next=11;break}if(!n.data){e.next=8;break}return e.abrupt("return",n.data);case 8:if(!n.data.error){e.next=11;break}return r=Object(j.a)(n.error,1),c=r[0],e.abrupt("return",{error:c});case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(x.a)(O.a.mark((function e(t){var a,n,r,c,i,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.locationKey,n=t.metric,r=J({apikey:U,metric:n}),e.prev=2,e.next=5,F.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(a).concat(r),{});case 5:if(!(c=e.sent)||!c.data){e.next=12;break}if(!c.data){e.next=9;break}return e.abrupt("return",c.data);case 9:if(!c.data.error){e.next=12;break}return i=Object(j.a)(c.error,1),o=i[0],e.abrupt("return",{error:o});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",null);case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),A={LocalizedName:"Tel Aviv",Key:"123"};var H=function(e){var t=S(),a=r.a.useState(""),c=Object(j.a)(a,2),i=c[0],o=c[1],u=r.a.useState([]),s=Object(j.a)(u,2),l=s[0],p=s[1],m=Object(n.useState)(!1),f=Object(j.a)(m,2),v=f[0],d=f[1],b=function(e,t){var a=Object(n.useState)(e),r=Object(j.a)(a,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){i(e)}),t);return function(){clearTimeout(a)}}),[e,t]),c}(i,500);Object(n.useEffect)((function(){if(b){var e=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(b);case 2:t=e.sent,d(!1),p(t||[]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();d(!0),e()}else p([])}),[b]);var h=Object(D.a)({matchFrom:"start",stringify:function(e){return e.LocalizedName}});return r.a.createElement(T.a,{options:l,onChange:function(t,a){var n=a||{},r=n.LocalizedName,c=void 0===r?A.LocalizedName:r,i=n.Key,o=void 0===i?A.Key:i;e.onChoose({LocalizedName:c,Key:o})},loading:v,getOptionLabel:function(e){return e.LocalizedName},style:{width:300},clearOnEscape:!0,autoSelect:!0,filterOptions:h,renderInput:function(e){var a=e.inputProps.onChange;return e.inputProps.onChange=function(e){o(e.target.value),a(e)},e.inputProps.value=i,r.a.createElement(P.a,Object.assign({className:t.textField},e,{label:W,variant:"outlined",fullWidth:!0}))}})},G=a(172),q=a(173),$=a(171),Q="Add To Favorites";function X(e){var t=e.isFavorite,a=e.onClick;return r.a.createElement($.a,{title:Q},r.a.createElement("div",{onClick:a},t?r.a.createElement(G.a,null):r.a.createElement(q.a,null)))}var Y=Object(v.a)((function(e){return Object(d.a)({container:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"200px",height:"30px"},mainPane:{width:"600px",height:"400px"},dailyForecastWrapper:{display:"flex",justifyContent:"space-around"}})}));function Z(e){return!e||0===Object.entries(e).length&&e.constructor===Object}function _(e){var t={};if(!e)return t;var a=e[0],n=a.WeatherIcon,r=a.WeatherText,c=a.Temperature.Metric,i=c.Value,o=c.Unit;return t.WeatherIcon=n,t.WeatherText=r,t.TempValue=i,t.Unit=o,t}function ee(e){return e.map((function(e){var t=e.Date,a=e.Temperature,n=a.Minimum,r=n.Value,c=n.Unit,i=a.Maximum,o=i.Value,u=i.Unit,s=e.Day,l=s.Icon,p=s.IconPhrase,m=e.Night;return{date:t,dValue:r,dUnit:c,nValue:o,nUnit:u,dIcon:l,dIconPhrase:p,nIcon:m.Icon,nIconPhrase:m.IconPhrase}}))}var te=a(71),ae=function(){var e=localStorage.getItem("favorites");return e?JSON.parse(e):[]},ne={get:ae,add:function(e){var t=ae();t.filter((function(t){return t.Key===e.Key})).length||localStorage.setItem("favorites",JSON.stringify([].concat(Object(te.a)(t),[e])))},remove:function(e){var t=ae();t.length&&localStorage.setItem("favorites",JSON.stringify(t.filter((function(t){return t.Key!==e.Key}))))}},re=(a(124),Object(v.a)((function(e){return Object(d.a)({wrapper:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",position:"relative",margin:"0 5px",padding:"3px"},halfDayBlock:{display:"flex",justifyContent:"center",alignItems:"center"}})}))),ce=a(174),ie=a(70),oe=a.n(ie);function ue(e){var t=re(),a=e.forecast,n=a.date,c=a.dValue,i=a.dUnit,o=a.nValue,u=a.nUnit,s=a.dIcon,p=a.dIconPhrase,m=a.nIcon,f=a.nIconPhrase;return r.a.createElement(ce.a,{className:t.wrapper},r.a.createElement(l.a,{component:"span"},function(e){return oe()(e).format("ddd")}(n)),r.a.createElement("div",{className:t.halfDayBlock},r.a.createElement("img",{src:I(s),alt:p}),r.a.createElement(l.a,{component:"span",color:"textSecondary"},"".concat(o).concat(u))),r.a.createElement("div",{className:t.halfDayBlock},r.a.createElement("img",{src:I(m),alt:f}),r.a.createElement(l.a,{component:"span",color:"textSecondary"},"".concat(c).concat(i))))}function se(e){var t=e.fiveDaysForecast;return Z(t)?"Loading...":t.map((function(e){return r.a.createElement(ue,{key:e.Date,forecast:e})}))}function le(){var e=Y(),t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(A),u=Object(j.a)(o,2),s=u[0],p=u[1],m=_(V),f=Object(n.useState)(m),v=Object(j.a)(f,2),d=v[0],b=v[1],h=Object(n.useState)({}),y=Object(j.a)(h,2),g=y[0],k=y[1],I=Object(n.useState)(!0),P=Object(j.a)(I,2),T=P[0],D=(P[1],function(){var e=Object(x.a)(O.a.mark((function e(t){var a,n,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(t)&&(t=A),p(t),e.next=4,M(t.Key);case 4:if((a=e.sent)&&a.length){e.next=7;break}return e.abrupt("return");case 7:return n=_(a),b(n),e.next=11,R({locationKey:t.Key,metric:T});case 11:if((r=e.sent)&&!Z(r)&&r.hasOwnProperty("DailyForecasts")){e.next=14;break}return e.abrupt("return");case 14:console.log("NewFiveDaysForecast",r),c=ee(r.DailyForecasts),k(c);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return r.a.createElement("div",{className:e.container},r.a.createElement(H,{onChoose:D}),r.a.createElement(w.a,{className:e.mainPane,elevation:3},r.a.createElement(E.a,{container:!0,direction:"column",justify:"space-around",alignItems:"center",spacing:7},r.a.createElement(E.a,{container:!0,item:!0,xs:12,justify:"space-around",alignItems:"center"},r.a.createElement(E.a,{item:!0,xs:3},r.a.createElement(N,{city:s.LocalizedName,weatherIcon:d.WeatherIcon,weatherText:d.WeatherText,value:d.TempValue,unit:d.Unit})),r.a.createElement(E.a,{item:!0,xs:3},r.a.createElement(X,{onClick:function(){return function(e){c?ne.remove(e):ne.add(e),i(!c)}(s)},isFavorite:c}))),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(l.a,{variant:"h2"},d.WeatherText)),r.a.createElement(E.a,{item:!0,xs:12,className:e.dailyForecastWrapper},r.a.createElement(se,{fiveDaysForecast:g})))))}var pe=Object(v.a)((function(e){return Object(d.a)({container:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},mainPane:{marginTop:"30px",width:"600px",height:"400px",paddingTop:"30px"},citiesWeatherWrapper:{display:"flex",justifyContent:"space-around"}})}));function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(a,!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ve(){var e=pe(),t=Object(n.useState)([]),a=Object(j.a)(t,2),c=a[0],i=a[1];function o(e){return u.apply(this,arguments)}function u(){return(u=Object(x.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t.Key);case 2:return a=e.sent,n=_(a),console.log("{...flattenedCityData, name: city.LocalizedName}",fe({},n,{name:t.LocalizedName})),e.abrupt("return",fe({},n,{name:t.LocalizedName}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){i(ne.get().map(function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]),c.length&&r.a.createElement("div",{className:e.container},r.a.createElement(w.a,{className:e.mainPane,elevation:3},r.a.createElement(E.a,{item:!0,xs:12,className:e.citiesWeatherWrapper},c.map((function(e){return r.a.createElement(N,{city:e.name,weatherIcon:e.WeatherIcon,weatherText:e.WeatherText,value:e.TempValue,unit:e.Unit})})))))}function de(){return r.a.createElement("div",null,"Page Not found")}var be=function(){return n.createElement(y.c,null,n.createElement(y.a,{exact:!0,path:"/",component:le}),n.createElement(y.a,{path:"/favorites",component:ve}),n.createElement(y.a,{component:de}))};var he=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{basename:"/"},r.a.createElement(h,null),r.a.createElement(be,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(he,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},48:function(e){e.exports=JSON.parse('[{"LocalObservationDateTime":"2019-11-06T17:36:00+01:00","EpochTime":1573058160,"WeatherText":"Clear","WeatherIcon":33,"HasPrecipitation":false,"PrecipitationType":null,"IsDayTime":false,"Temperature":{"Metric":{"Value":7.2,"Unit":"C","UnitType":17},"Imperial":{"Value":45,"Unit":"F","UnitType":18}},"MobileLink":"http://m.accuweather.com/en/pl/kielce/275941/current-weather/275941?lang=en-us","Link":"http://www.accuweather.com/en/pl/kielce/275941/current-weather/275941?lang=en-us"}]')},81:function(e,t,a){e.exports=a(126)},86:function(e,t,a){},87:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.0cde5d32.chunk.js.map